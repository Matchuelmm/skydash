<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Pl Whatsapp Admin</title>
    <!-- update the version number as needed -->
    <script defer src="/__/firebase/10.13.1/firebase-app-compat.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/10.13.1/firebase-auth-compat.js"></script>
    <script defer src="/__/firebase/10.13.1/firebase-database-compat.js"></script>
    <script defer src="/__/firebase/10.13.1/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/10.13.1/firebase-functions-compat.js"></script>
    <script defer src="/__/firebase/10.13.1/firebase-messaging-compat.js"></script>
    <script defer src="/__/firebase/10.13.1/firebase-storage-compat.js"></script>
    <script defer src="/__/firebase/10.13.1/firebase-analytics-compat.js"></script>
    <script defer src="/__/firebase/10.13.1/firebase-remote-config-compat.js"></script>
    <script defer src="/__/firebase/10.13.1/firebase-performance-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.6/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.6/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.2/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.0.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore-compat.js"></script>

  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    
    <!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
    <script defer src="/__/firebase/init.js?useEmulator=true"></script> 
  <!-- plugins:css -->
  <link rel="stylesheet" href="vendors/feather/feather.css">
  <link rel="stylesheet" href="vendors/ti-icons/css/themify-icons.css">
  <link rel="stylesheet" href="vendors/css/vendor.bundle.base.css">
  <!-- endinject -->
  <!-- Plugin css for this page -->
  <link rel="stylesheet" href="vendors/datatables.net-bs4/dataTables.bootstrap4.css">
  <link rel="stylesheet" href="vendors/ti-icons/css/themify-icons.css">
  <link rel="stylesheet" type="text/css" href="js/select.dataTables.min.css">
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="css/vertical-layout-light/style.css">
  <!-- endinject -->
  <link rel="shortcut icon" href="images/favicon.png" />
  <style>
    #content {
      margin: 40px auto;
      text-align: center;
      width: 600px;
    }
    #content h1 {
      text-transform: uppercase;
      font-weight: 100;
      margin: 0 0 40px 0;
      font-size: 25px;
      line-height: 30px;
    }
    .circle {
      width: 60px;
      height: 60px;
      line-height: 60px;
      border-radius: 50%; /* the magic */
      -moz-border-radius: 50%;
      -webkit-border-radius: 50%;
      text-align: center;
      color: white;
      font-size: 16px;
      text-transform: uppercase;
      font-weight: 100;
      margin: 0 auto 40px;
    }

    .blue {
      background-color: #3498db;  
    }
    .green {
      background-color: #16a085;
    }
    .red {
      background-color: #e74c3c;
    }
    .feedback {
      font-size: 14px;
      color: #b1b1b1;
    }
        .progress-container-co2 {
            width: 80%;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            margin: 15px auto;
        }
        .progress-bar-co2 {
            height: 18px;
            width: 0%;
            background-color: #4caf50;
            text-align: center;
            line-height: 20px;
            color: white;
            font-weight: bold;
            transition: width 0.5s ease-in-out;
        }
        .progress-container-cnc {
            width: 80%;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            margin: 15px auto;
        }
        .progress-bar-cnc {
            height: 18px;
            width: 0%;
            background-color: #d8830d;
            text-align: center;
            line-height: 20px;
            color: white;
            font-weight: bold;
            transition: width 0.5s ease-in-out;
        }
        .progress-container-col {
            width: 80%;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            margin: 15px auto;
        }
        .progress-bar-col {
            height: 18px;
            width: 0%;
            background-color: #d8830d;
            text-align: center;
            line-height: 20px;
            color: white;
            font-weight: bold;
            transition: width 0.5s ease-in-out;
        }
        .progress-container-fib {
            width: 80%;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            margin: 15px auto;
        }
        .progress-bar-fib {
            height: 18px;
            width: 0%;
            background-color: #411ce9;
            text-align: center;
            line-height: 20px;
            color: white;
            font-weight: bold;
            transition: width 0.5s ease-in-out;
        }
        .progress-container-engr {
            width: 80%;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            margin: 15px auto;
        }
        .progress-bar-engr {
            height: 18px;
            width: 0%;
            background-color: #28ce0f;
            text-align: center;
            line-height: 20px;
            color: white;
            font-weight: bold;
            transition: width 0.5s ease-in-out;
        }
        .progress-container-wat {
            width: 80%;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            margin: 15px auto;
        }
        .progress-bar-wat {
            height: 18px;
            width: 0%;
            background-color: #ec1f1f;
            text-align: center;
            line-height: 20px;
            color: white;
            font-weight: bold;
            transition: width 0.5s ease-in-out;
        }
  </style>
</head>
<body>
  <input type="text" id="ai_integration_countrx" hidden>
  <input type="text" id="machine_promox" hidden>
  <input type="text" id="machine_specializedx" hidden>
  <input type="text" id="MSpecials_whatsapp_contacts_listx" hidden>
  <input type="text" id="0_10k_whatsapp_contacts_listx" hidden>
  <input type="text" id="5k10k_whatsapp_contacts_listx" hidden>
  <input type="text" id="20k50k_whatsapp_contacts_listx" hidden>
  <input type="text" id="50k100k_whatsapp_contacts_listx" hidden>
  <input type="text" id="100k_whatsapp_contacts_listx"  hidden>
  <input type="text" id="newTechArrivals_whatsapp_contacts_listx" hidden>
  <input type="text" id="sublimation_blanks_countrx" hidden>


  <div class="container-scroller">
    <!-- partial:partials/_navbar.html -->
    <nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
      <div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-center">
        <a class="navbar-brand brand-logo mr-5" href="index.html"><img src="images/logo.svg" class="mr-2" alt="logo"/></a>
        <a class="navbar-brand brand-logo-mini" href="index.html"><img src="images/logo.svg" alt="logo"/></a>
      </div>
      <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
        <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
          <span class="icon-menu"></span>
        </button>
        <ul class="navbar-nav mr-lg-2">
          <li class="nav-item nav-search d-none d-lg-block">
            <div class="input-group">
              <div class="input-group-prepend hover-cursor" id="navbar-search-icon">
                <span class="input-group-text" id="search">
                  <i class="icon-search"></i>
                </span>
              </div>
              <input type="text" class="form-control" id="navbar-search-input" placeholder="Search now" aria-label="search" aria-describedby="search">
            </div>
          </li>
        </ul>
        <ul class="navbar-nav navbar-nav-right">
          <li class="nav-item dropdown">
            <a class="nav-link count-indicator dropdown-toggle" id="notificationDropdown" href="#" data-toggle="dropdown">
              <i class="icon-bell mx-0"></i>
              <span class="count"></span>
            </a>
            <!-- <div class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list" aria-labelledby="notificationDropdown">
              <p class="mb-0 font-weight-normal float-left dropdown-header">Notifications</p>
              <a class="dropdown-item preview-item">
                <div class="preview-thumbnail">
                  <div class="preview-icon bg-success">
                    <i class="ti-info-alt mx-0"></i>
                  </div>
                </div>
                <div class="preview-item-content">
                  <h6 class="preview-subject font-weight-normal">Application Error</h6>
                  <p class="font-weight-light small-text mb-0 text-muted">
                    Just now
                  </p>
                </div>
              </a>
              <a class="dropdown-item preview-item">
                <div class="preview-thumbnail">
                  <div class="preview-icon bg-warning">
                    <i class="ti-settings mx-0"></i>
                  </div>
                </div>
                <div class="preview-item-content">
                  <h6 class="preview-subject font-weight-normal">Settings</h6>
                  <p class="font-weight-light small-text mb-0 text-muted">
                    Private message
                  </p>
                </div>
              </a>
              <a class="dropdown-item preview-item">
                <div class="preview-thumbnail">
                  <div class="preview-icon bg-info">
                    <i class="ti-user mx-0"></i>
                  </div>
                </div>
                <div class="preview-item-content">
                  <h6 class="preview-subject font-weight-normal">New user registration</h6>
                  <p class="font-weight-light small-text mb-0 text-muted">
                    2 days ago
                  </p>
                </div>
              </a>
            </div> -->
          </li>
          <li class="nav-item nav-profile dropdown">
            <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="profileDropdown">
              <img src="images/faces/face1.png" alt="profile"/>
            </a>
            <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="profileDropdown">
              <a class="dropdown-item">
                <i class="ti-settings text-primary"></i>
                Settings
              </a>
              <a class="dropdown-item" id="signOutBtn">
                <i class="ti-power-off text-primary" ></i>
                Logout
              </a>
            </div>
          </li>
          <li class="nav-item nav-settings d-none d-lg-flex">
            <a class="nav-link" href="#">
              <i class="icon-ellipsis"></i>
            </a>
          </li>
        </ul>
        <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
          <span class="icon-menu"></span>
        </button>
      </div>
    </nav>
    <!-- partial -->
    <div class="container-fluid page-body-wrapper">
      <!-- partial:partials/_settings-panel.html -->
      <div class="theme-setting-wrapper">
        <div id="settings-trigger"><i class="ti-settings"></i></div>
        <div id="theme-settings" class="settings-panel">
          <i class="settings-close ti-close"></i>
          <p class="settings-heading">SIDEBAR SKINS</p>
          <div class="sidebar-bg-options selected" id="sidebar-light-theme"><div class="img-ss rounded-circle bg-light border mr-3"></div>Light</div>
          <div class="sidebar-bg-options" id="sidebar-dark-theme"><div class="img-ss rounded-circle bg-dark border mr-3"></div>Dark</div>
          <p class="settings-heading mt-2">HEADER SKINS</p>
          <div class="color-tiles mx-0 px-4">
            <div class="tiles success"></div>
            <div class="tiles warning"></div>
            <div class="tiles danger"></div>
            <div class="tiles info"></div>
            <div class="tiles dark"></div>
            <div class="tiles default"></div>
          </div>
        </div>
      </div>
      <!--  -->
      <!-- partial -->
      <!-- partial:partials/_sidebar.html -->
      <nav class="sidebar sidebar-offcanvas" id="sidebar">
        <ul class="nav">
          <li class="nav-item">
            <a class="nav-link" href="/dashboard/">
              <i class="icon-grid menu-icon"></i>
              <span class="menu-title">Dashboard</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="collapse" href="#auth" aria-expanded="false" aria-controls="auth">
              <i class="icon-head menu-icon"></i>
              <span class="menu-title">Manage Contacts</span>
              <i class="menu-arrow"></i>
            </a>
            <div class="collapse" id="auth">
              <ul class="nav flex-column sub-menu">
                <li class="nav-item"> <a class="nav-link" href="pages/contacts/upload/"> Upload Contacts</a></li>
                <li class="nav-item"> <a class="nav-link" href="pages/contacts/capture/">Capture Contacts </a></li>
              </ul>
            </div>
          </li>          
          <li class="nav-item">
            <a class="nav-link" data-toggle="collapse" href="#form-elements" aria-expanded="false" aria-controls="form-elements">
              <i class="icon-columns menu-icon"></i>
              <span class="menu-title">Send Message</span>
              <i class="menu-arrow"></i>
            </a>
            <div class="collapse" id="form-elements">
              <ul class="nav flex-column sub-menu">
                <li class="nav-item"><a class="nav-link" href="pages/messaging/">Plain-Text Message</a></li>
              </ul>
            </div>
            <div class="collapse" id="form-elements">
              <ul class="nav flex-column sub-menu">
                <li class="nav-item"><a class="nav-link" href="pages/messaging/interactive/">Interactive Message</a></li>
              </ul>
            </div>       
            <div class="collapse" id="form-elements">
              <ul class="nav flex-column sub-menu">
                <li class="nav-item"><a class="nav-link" href="pages/messaging/terms/">MetaTerms Message</a></li>
              </ul>
            </div>                   
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="collapse" href="#charts" aria-expanded="false" aria-controls="charts">
              <i class="icon-bar-graph menu-icon"></i>
              <span class="menu-title">Reports</span>
              <i class="menu-arrow"></i>
            </a>
            <div class="collapse" id="charts">
              <ul class="nav flex-column sub-menu">
                <li class="nav-item"> <a class="nav-link" href="pages/charts/">Graphical Reports</a></li>
              </ul>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="collapse" href="#tables" aria-expanded="false" aria-controls="tables">
              <i class="icon-grid-2 menu-icon"></i>
              <span class="menu-title">Message Logs</span>
              <i class="menu-arrow"></i>
            </a>
            <div class="collapse" id="tables">
              <ul class="nav flex-column sub-menu">
                <li class="nav-item"> <a class="nav-link" href="pages/tables/">view logs</a></li>
              </ul>
            </div>
          </li>
        </ul>
      </nav>
      <!-- partial -->
      <div class="main-panel">
        <div class="content-wrapper">
          <div class="row">
            <div class="col-md-12 grid-margin">
              <div class="row">
                <div class="col-12 col-xl-8 mb-4 mb-xl-0">
                  <h3 class="font-weight-bold">Welcome To Pulse Whatsapp Dashboard</h3>
                  <!-- <h6 class="font-weight-normal mb-0">All systems are running smoothly! You have <span class="text-primary">3 unread alerts!</span></h6> -->
                </div>
                <div class="col-12 col-xl-4">
                 <div class="justify-content-end d-flex">
                  <div class="dropdown flex-md-grow-1 flex-xl-grow-0">
                    <button class="btn btn-sm btn-light bg-white dropdown-toggle" type="button" id="dropdownMenuDate2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                      Today ( <i class="mdi mdi-calendar" id="curr_date"></i> )
                    </button>
                    <!-- <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuDate2">
                      <a class="dropdown-item" href="#">January - March</a>
                      <a class="dropdown-item" href="#">March - June</a>
                      <a class="dropdown-item" href="#">June - August</a>
                      <a class="dropdown-item" href="#">August - November</a>
                    </div> -->
                  </div>
                 </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 grid-margin stretch-card">
              <div class="card tale-bg">
                <div class="card-people mt-auto">
                  <center><img src="images/dashboard/people.svg" alt="people" style="width: 60%; height: auto;"></center>
                </div>
              </div>
            </div>
            <div class="col-md-6 grid-margin transparent">
              <div class="row">
                <div class="col-md-6 mb-4 stretch-card transparent">
                  <div class="card card-tale">
                    <div class="card-body">
                      <p class="mb-4">Total Incoming Messages</p>
                      <p class="fs-30 mb-2" id="incom_cntr">0</p>
                      <p>Messages Received</p>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 mb-4 stretch-card transparent">
                  <div class="card card-dark-blue">
                    <div class="card-body">
                      <p class="mb-4">Total Outgoing Messages</p>
                      <p class="fs-30 mb-2" id="out_countr">0</p>
                      <p>Messages Sent</p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 mb-4 mb-lg-0 stretch-card transparent">
                  <div class="card card-light-blue">
                    <div class="card-body">
                      <p class="mb-4">Sales Related</p>
                      <p class="fs-30 mb-2" id="sales_countr">0</p>
                      <p>Messages</p>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 stretch-card transparent">
                  <div class="card card-light-danger">
                    <div class="card-body">
                      <p class="mb-4">Marketing Related</p>
                      <p class="fs-30 mb-2" id="marketing_countr">0</p>
                      <p>Messages Received</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <!-- <div class="col-md-6 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <p class="card-title">Product Equiries</p>
                  <p class="font-weight-500">The total number of messages where customers/clients were Enquiring about the product.</p>
                  <div class="d-flex flex-wrap mb-5">
                    <div class="mr-5 mt-3">
                      <p class="text-muted">CO2 Lasers</p>
                      <h3 class="text-primary fs-30 font-weight-medium">2</h3>
                    </div>
                    <div class="mr-5 mt-3">
                      <p class="text-muted">CNC Machines </p>
                      <h3 class="text-primary fs-30 font-weight-medium">4</h3>
                    </div>
                    <div class="mr-5 mt-3">
                      <p class="text-muted">Colour Machines</p>
                      <h3 class="text-primary fs-30 font-weight-medium">5</h3>
                    </div>
                    <div class="mt-3">
                      <p class="text-muted">Fiber Cutters</p>
                      <h3 class="text-primary fs-30 font-weight-medium">3</h3>
                    </div> 
                    <div class="mt-3">
                      <p class="text-muted">Fiber Engravers</p>
                      <h3 class="text-primary fs-30 font-weight-medium">5</h3>
                    </div> 
                    <div class="mt-3">
                      <p class="text-muted">Waterjet Machines</p>
                      <h3 class="text-primary fs-30 font-weight-medium">6</h3>
                    </div> 
                  </div>
                  <canvas id="order-chart"></canvas>
                </div>
              </div>
            </div> -->
            <!-- <div class="col-md-6 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                 <div class="d-flex justify-content-between">
                  <p class="card-title">Technical Related</p>
                  <a href="#" class="text-info">View all</a>
                 </div>
                  <p class="font-weight-500">The total number of messages where customers/clients were Enquiring about the Technical Information.</p>
                  <div id="sales-legend" class="chartjs-legend mt-4 mb-2"></div>
                  <canvas id="sales-chart"></canvas>
                </div>
              </div>
            </div> -->
          </div>
          <div class="row">
            <div class="col-md-12 grid-margin stretch-card">
              <div class="card position-relative">
                <div class="card-body">
                  <div id="detailedReports" class="carousel slide detailed-report-carousel position-static pt-2" data-ride="carousel">
                    <div class="carousel-inner">
                      <div class="carousel-item active">
                        <div class="row">
                          <div class="col-md-12 col-xl-3 d-flex flex-column justify-content-start">
                            <div class="ml-xl-4 mt-3">
                            <p class="card-title">Whatsapp Groups Joined </p>
                              <h1 class="text-primary" id="tot_joined">0</h1>
                              <h3 class="font-weight-500 mb-xl-4 text-primary">Whatsapp Groups Joined Report</h3>
                              <p class="mb-2 mb-xl-0">The total number of groups Joined</p>
                            </div>  
                            </div>
          
                           <div class="col-md-12 col-xl-9" id="main_tabl"> 
                             <div class="row">
                              <div class="col-md-6 border-right"> 
                                <div class="table-responsive mb-3 mb-md-0 mt-3">
                                  <table class="table table-borderless report-table" id="main_tabl">
                                    <tr>
                                      <td class="text-muted">1️⃣ Machine promo of the month Group</td>
                                      <td class="w-100 px-0">
                                        <!-- <div class="progress-container-co2">
                                          <div class="progress-bar-co2" id="machine_promo_countr">0%</div>
                                      </div> -->
                                      
                                      
                                      </td>
                                      <td><div class="circle blue" id="machine_promo_countr">0</div></td>
                                    </tr>
                                    <tr>

                                      <td class="text-muted">2️⃣ Very specialized machines on Promo Group</td>
                                      <td class="w-100 px-0">
                                        <!-- <div class="progress-container-cnc">
                                          <div class="progress-bar-cnc" id="progress-bar-cnc">0%</div>
                                      </div> -->
                                      </td>
                                      <td><div class="circle blue" id="machine_specialized">0</div></td>
                                    </tr>
                                    <tr>
                                      
                                      <td class="text-muted">3️⃣ Free Offerings With Every Purchase Group</td>
                                      <td class="w-100 px-0">
                                        <!-- <div class="progress-container-col">
                                          <div class="progress-bar-col" id="progress-bar-col">0%</div> 
                                      </div> -->
                                      </td>
                                      <td><div class="circle blue" id="MSpecials_whatsapp_contacts_list">0</div></td>
                                    </tr>
                                    <tr>
                                      <td class="text-muted">4️⃣ Machine business solutions(Based On Price) Group</td>
                                    </tr>
                                    <tr>
                                      <td class="text-muted">-Machine from R0-R10k Group</td>
                                      <td class="w-100 px-0">
                                        <!-- <div class="progress-container-fib">
                                          <div class="progress-bar-fib" id="progress-bar-fib">0%</div>
                                      </div> -->
                                     
                                      </td>
                                      <td><div class="circle blue" id="0_10k_whatsapp_contacts_list">0</div></td>
                                    </tr>
                                    <tr>
                                      <td class="text-muted">-Machine from R10k-R20k Group</td>
                                      <td class="w-100 px-0">
                                        <!-- <div class="progress-container-fib">
                                          <div class="progress-bar-fib" id="progress-bar-fib">0%</div>   5k10k_whatsapp_contacts_list
                                        </div> -->
                                        
                                      </td>
                                      <td><div class="circle blue" id="5k10k_whatsapp_contacts_list">0</div></td>
                                    </tr>
                                    <tr>
                                      <td class="text-muted">-Machine from R20k-R50k Group</td>
                                      <td class="w-100 px-0">
                                        <!-- <div class="progress-container-fib">
                                          <div class="progress-bar-fib" id="progress-bar-fib">0%</div>
                                      </div> -->
                                     
                                      </td>
                                      <td><div class="circle blue" id="20k50k_whatsapp_contacts_list">0</div></td>
                                    </tr>
                                    <tr>
                                      <td class="text-muted">-Machine from R50k-R100k Group</td>
                                      <td class="w-100 px-0">
                                        <!-- <div class="progress-container-fib">
                                          <div class="progress-bar-fib" id="progress-bar-fib">0%</div>
                                      </div> -->
                                      
                                      </td>
                                      <td><div class="circle blue" id="50k100k_whatsapp_contacts_list">0</div></td>
                                    </tr>
                                    <tr>
                                      <td class="text-muted">-Machine from R100k+ Group</td>
                                      <td class="w-100 px-0">
                                        <!-- <div class="progress-container-fib">
                                          <div class="progress-bar-fib" id="progress-bar-fib">0%</div>
                                      </div> -->
                                      
                                      </td>
                                      <td><div class="circle blue" id="100k_whatsapp_contacts_list">0</div></td>
                                    </tr>
                                    <tr>
                                      <td class="text-muted">5️⃣ New Machines Technology Just Arrived Group</td>
                                      <td class="w-100 px-0">
                                        <!-- <div class="progress-container-engr">
                                          <div class="progress-bar-engr" id="progress-bar-engr">0%</div>
                                      </div> -->
                                      
                                      </td>
                                      <td><div class="circle blue" id="new_machines_technology_just_arrived_countr">0</div></td>
                                    </tr>
                                    <tr>
                                      <td class="text-muted">6️⃣ Sublimation Blanks Group</td>
                                      <td class="w-100 px-0">
                                        <!-- <div class="progress-container-wat">
                                          <div class="progress-bar-wat" id="progress-bar-wat">0%</div>
                                        </div> -->
                                        
                                      </td>
                                      <td><div class="circle blue" id="sublimation_blanks_countr">0</div></td>
                                    </tr>
                                    <tr>
                                      <td class="text-muted">7️⃣ AI🖥️ integration Group</td>
                                      <td class="w-100 px-0">
                                        <!-- <div class="progress-container-wat">
                                          <div class="progress-bar-wat" id="progress-bar-wat">0%</div>
                                        </div> -->
                                       
                                      </td>
                                      <td><div class="circle blue" id="ai_integration_countr">0</div></td>
                                    </tr>
                                    <tr>
                                      <td class="text-muted">8️⃣ Join All Group</td>
                                      <td class="w-100 px-0">
                                        <!-- <div class="progress-container-wat">
                                          <div class="progress-bar-wat" id="progress-bar-wat">0%</div>
                                      </div> -->
                                      </td>
                                      <td><div class="circle blue" id="join_all_countr">0</div></td>
                                    </tr>
                                  </table>
                                </div>
                               </div> 
                              <div class="col-md-6 mt-3">
                                <div id="piechart_3d" style="width: 500px; height: 500px;"></div>
                               </div> 
                             </div>
                             </div> 
                        </div>
                      </div>

                    </div>
                    <a class="carousel-control-prev" href="#detailedReports" role="button" data-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#detailedReports" role="button" data-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="sr-only">Next</span>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="row">
            <div class="col-md-12 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <p class="card-title">Advanced Table</p>
                  <div class="row">
                    <div class="col-12">
                      <div class="table-responsive">
                        <table id="example" class="display expandable-table" style="width:100%">
                          <thead>
                            <tr>
                              <th>Quote#</th>
                              <th>Product</th>
                              <th>Business type</th>
                              <th>Policy holder</th>
                              <th>Premium</th>
                              <th>Status</th>
                              <th>Updated at</th>
                              <th></th>
                            </tr>
                          </thead>
                      </table>
                      </div>
                    </div>
                  </div>
                  </div>
                </div>
              </div>
            </div> -->
        </div>
        <!-- content-wrapper ends -->
        <!-- partial:partials/_footer.html -->
        <footer class="footer">
          <div class="d-sm-flex justify-content-center justify-content-sm-between">
            <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Copyright © 2025.  Clout-It <a href="https://www.clout-it.co.za/" target="_blank"> Clout-It. All rights reserved.</span>
            <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">Hand-crafted & made with <i class="ti-heart text-danger ml-1"></i></span>
          </div>
          <div class="d-sm-flex justify-content-center justify-content-sm-between">
            <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Created by <a href="https://www.clout-it.co.za/" target="_blank">Clout-It</a></span> 
          </div>
        </footer> 
        <!-- partial -->
      </div>
      <!-- main-panel ends -->
    </div>   
    <!-- page-body-wrapper ends -->
  </div>
  <!-- container-scroller -->

  <!-- plugins:js -->
  <script src="vendors/js/vendor.bundle.base.js"></script>
  <!-- endinject -->
  <!-- Plugin js for this page -->
  <script src="vendors/chart.js/Chart.min.js"></script>
  <script src="vendors/datatables.net/jquery.dataTables.js"></script>
  <script src="vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>
  <script src="js/dataTables.select.min.js"></script>

  <!-- End plugin js for this page -->
  <!-- inject:js -->
  <script src="js/off-canvas.js"></script>
  <script src="js/hoverable-collapse.js"></script>
  <script src="js/template.js"></script>
  <script src="js/settings.js"></script>
  <script src="js/todolist.js"></script>
  <!-- endinject -->
  <!-- Custom js for this page-->
  <script src="js/dashboard.js"></script>
  <script src="js/Chart.roundedBarCharts.js"></script>
  <!-- End custom js for this page-->

<!-- partial -->
<script type="module">
  // Import the functions you need from the SDKs you need
 //  import { initializeApp } from "firebase/app";
 import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
 import {
       getAuth,
       createUserWithEmailAndPassword,
       signInWithEmailAndPassword,
       onAuthStateChanged,
       signOut
   } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";  


  
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  
  // const firebaseConfig = {
  //   apiKey: "AIzaSyCHe3WPc_lRlnlpXRJv3kPpBNWTKEBD9Ro",
  //   authDomain: "whatsapp-dash.firebaseapp.com",
  //   databaseURL: "https://whatsapp-dash-default-rtdb.firebaseio.com/",
  //   projectId: "whatsapp-dash",
  //   storageBucket: "whatsapp-dash.appspot.com",
  //   messagingSenderId: "222433305889",
  //   appId: "1:222433305889:web:5104403857e58a038a0a60"
  // };

  const firebaseConfig = {
        apiKey: "AIzaSyD5k4SBoI2wh2G19TQIFuX0Iqw1sam8bhs",
        authDomain: "perfectlaser-whatsapp.firebaseapp.com",
        projectId: "perfectlaser-whatsapp",
        storageBucket: "perfectlaser-whatsapp.firebasestorage.app",
        messagingSenderId: "719633370703",
        appId: "1:719633370703:web:baea3320dfe73207e1a43a"
      };

      // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = firebase.firestore();

  // loadData();
  // readData();

  const savecontacts = document.getElementById('savecont');
  const savecontacts2 = document.getElementById('savecont_tw');
  const signOutBtn=document.getElementById('signOutBtn');

  google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Enquries', 'Keywords'],
          ['CO2 Lasers',     11],
          ['Cnc Machines',      2],
          ['Colour Machines',  2],
          ['Fiber Cutters', 2],
          ['Fiber Engravers', 7],
          ['Waterjet Machines',    5]
        ]);

        var options = {
          title: 'Whatsapp Daily Enquiries(keywords)',
          is3D: true,
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
        chart.draw(data, options);
      }


  let sent_countr = 0;
  let machine_promo_countr = 0;
  let incoming_countr = 0;
  let sales_countr = 0;
  let whatsapp_countrr = 0;
  let marketing_countr = 0;
  let machine_specialized_countr = 0;
  let machine_MCS_list_countr = 0;
  let fivek10k_whatsapp_contacts_list = 0;
  let zero_to_10k_whatsapp_contacts_list = 0;
  let twentyk_to_fiftyk_whatsapp_contacts_list = 0;
  let fiftyk_to_hundredk_whatsapp_contacts_list = 0;
  let hundredk_plus_whatsapp_contacts_list = 0;
  let new_machines_technology_just_arrived_countr = 0;
  let sublimation_blanks_countr = 0;
  let ai_integration_countr = 0;
  let join_all_countr = 0;  
  let total_joined_countr = 0;
  let tenk_to_fifteenk_whatsapp_contacts_list = 0;
  let MSpecials_whatsapp_contacts_list = 0;

  async function pull_message_report(){
        db.collection('messages_sent').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                  document.getElementById("out_countr").textContent = (++sent_countr);
            });
        });
  }
  async function pull_machine_promo_report(){
        db.collection('M_D_O_M_whatsapp_contacts_list').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                  document.getElementById("machine_promo_countr").textContent = (++machine_promo_countr );
                  document.getElementById("machine_promox").value = (++machine_promo_countr );
            });
        });
  }
  async function free_offering_promo_report(){
        db.collection('MSpecials_whatsapp_contacts_list').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                  document.getElementById("MSpecials_whatsapp_contacts_list").textContent = (++MSpecials_whatsapp_contacts_list );
                  document.getElementById("machine_specializedx").value = (++MSpecials_whatsapp_contacts_list );
            });
        });
        
  }
  async function pull_machine_specialized_report(){
        db.collection('MCS_whatsapp_contacts_list').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                  document.getElementById("machine_specialized").textContent = (++machine_specialized_countr );
                  document.getElementById("MSpecials_whatsapp_contacts_listx").value = (++machine_specialized_countr );
            });
        });
  }
  async function pull_machine_mcs_list_report(){
        db.collection('machine_MCS_list_countr').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                  document.getElementById("machine_MCS_list_countr").textContent = (++machine_MCS_list_countr );
                  // document.getElementById("machine_promo_countrs").textContent = (++machine_promo_countr );
            });
        });
  }
  async function zero_to_10k_report(){
        db.collection('5k10k_whatsapp_contacts_list').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                  document.getElementById("0_10k_whatsapp_contacts_list").textContent = (++zero_to_10k_whatsapp_contacts_list );
                  document.getElementById("0_10k_whatsapp_contacts_listx").value = (++zero_to_10k_whatsapp_contacts_list);
            });
        });
  }
  async function five_to_10k_report(){
        db.collection('5k10k_whatsapp_contacts_list').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                  document.getElementById("5k10k_whatsapp_contacts_list").textContent = (++fivek10k_whatsapp_contacts_list );
                  document.getElementById("5k10k_whatsapp_contacts_listx").value = (++fivek10k_whatsapp_contacts_list );
            });
        });
  }
  // async function ten_to_15k_report(){
  //       db.collection('10k15k_whatsapp_contacts_list').get().then((querySnapshot) => {
  //           querySnapshot.forEach((doc) => {
  //                 document.getElementById("10k15k_whatsapp_contacts_list").textContent = (++tenk_to_fifteenk_whatsapp_contacts_list );
  //                 document.getElementById("20k50k_whatsapp_contacts_listx").value = (++tenk_to_fifteenk_whatsapp_contacts_list );
  //           });
  //       });
  // }
  async function twentyk_to_fiftyk_report(){
        db.collection('20k50k_whatsapp_contacts_list').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                  document.getElementById("20k50k_whatsapp_contacts_list").textContent = (++twentyk_to_fiftyk_whatsapp_contacts_list);
                  document.getElementById("20k50k_whatsapp_contacts_listx").value = (++twentyk_to_fiftyk_whatsapp_contacts_list );
            });
        });
  }
  async function fiftyk_to_hundredk_report(){
        db.collection('50k100k_whatsapp_contacts_list').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                  document.getElementById("50k100k_whatsapp_contacts_list").textContent = (++fiftyk_to_hundredk_whatsapp_contacts_list );
                  document.getElementById("50k100k_whatsapp_contacts_listx").value = (++fiftyk_to_hundredk_whatsapp_contacts_list );
            });
        });
  }
  async function hundredk_plus_report(){
        db.collection('100k_whatsapp_contacts_list').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                  document.getElementById("100k_whatsapp_contacts_list").textContent = (++hundredk_plus_whatsapp_contacts_list );
                  document.getElementById("100k_whatsapp_contacts_listx").value = (++hundredk_plus_whatsapp_contacts_list );
            });
        });
  }
  async function new_machines_technology_just_arrived_report(){
        db.collection('newTechArrivals_whatsapp_contacts_list').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                  document.getElementById("new_machines_technology_just_arrived_countr").textContent = (++new_machines_technology_just_arrived_countr );
                  document.getElementById("newTechArrivals_whatsapp_contacts_listx").value = (++new_machines_technology_just_arrived_countr );
            });
        });
  }
  async function sublimation_blanks_report(){
        db.collection('SublimationBlanks_whatsapp_contacts_list').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                  document.getElementById("sublimation_blanks_countr").textContent = (++sublimation_blanks_countr );
                  document.getElementById("sublimation_blanks_countrx").value = (++sublimation_blanks_countr );
            });
        });
  }
  async function ai_integration_report(){
        db.collection('AIIntergration_whatsapp_contacts_list').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                  document.getElementById("ai_integration_countr").textContent = (++ai_integration_countr );
                  document.getElementById("ai_integration_countrx").value = (++ai_integration_countr );
            });
        });
  }
  async function pull_rec_message_report(){
          db.collection('whatsapp_incoming').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
              // inc_countr = '->'+(++incoming_countr);
              // console.log("RESULTS ARE ->"+doc.data().message_body);
              document.getElementById("incom_cntr").textContent = (++incoming_countr);
            });
        });
  }

  async function searchBySalesKeyWord(){
    var sales_message = null;
          db.collection('whatsapp_incoming').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
              sales_message = doc.data().message_body;
              if(sales_message === "Sales"){

                document.getElementById("sales_countr").textContent = (++sales_countr);
                // document.getElementById("perc_counter").textContent = 
                 console.log("RESULTS ARE ->"+doc.data().message_body);

              }else{

              }
             
            });
        });
  }
  async function searchByMarketingKeyWord(){
    var marketing_message = null;
          db.collection('whatsapp_incoming').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
              marketing_message = doc.data().message_body;

              if(marketing_message === "Marketing"){

                document.getElementById("marketing_countr").textContent = (++marketing_countr);
                console.log("RESULTS ARE ->"+doc.data().message_body);

              }else{

              }
             
            });
        });
  }

  async function searchByCo2Laser(){
    var co2_message = null;
    let co2_countr = 0;
    
          db.collection('whatsapp_incoming').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
              co2_message = doc.data().message_body;

              if(co2_message === "Sales"){

                // document.getElementById("marketing_countr").textContent = (++messg_countr);
                console.log("RESULTS ARE ->"+(++co2_countr));
                updateCO2Progress(++co2_countr);

              }else{

              }
             
            });
        });
  }

  async function searchByCncMachines(){
    var cnc_message = null;
          db.collection('whatsapp_incoming').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
              marketing_message = doc.data().message_body;

              if(cnc_message === "Cnc"){

                document.getElementById("marketing_countr").textContent = (++messg_countr);
                console.log("RESULTS ARE ->"+doc.data().message_body);

              }else{

              }
             
            });
        });
  }

          //get current time
          const now = new Date();

          // Convert to South African time
          const options = { timeZone: 'Africa/Johannesburg', hour12: false };
          const formatter = new Intl.DateTimeFormat('en-GB', {
              ...options,
              year: 'numeric',
              month: '2-digit',
              day: '2-digit',
              hour: '2-digit',
              minute: '2-digit',
              second: '2-digit'
          });

          // Format the parts into yyyy-dd-mm:hh:mm:ss
          const [
              { value: day }, 
              , // Skip separator
              { value: month }, 
              , 
              { value: year }, 
              , 
              { value: hour }, 
              , 
              { value: minute }, 
              , 
              { value: second }
          ] = formatter.formatToParts(now);

          document.getElementById("curr_date").textContent = `${year}-${day}-${month}:${hour}:${minute}`;


  async function runMessager(contacts,captions) {
                  
      const data = '{ "messaging_product": "whatsapp","recipient_type": "individual","to": "'+contacts+'","type": "text","text": {"preview_url": false,"body": "'+captions+'"}}';  

      const url = 'https://graph.facebook.com/v20.0/429246373597294/messages';

      const response = await fetch(url, {
          method: 'POST',
          headers: {
              'Authorization': 'Bearer EAAGJfuIm2nABO6UO4JBMylKHKtQzuJUDch1icjMAGKi9bOtxi3s2GEdOsRRk5JZCZBXL1YKgqecSgbIMR96NYRfx6XICdwe7zEVxZAY8LHa1wnL2Gp8oc9oJs2pxp84XUoxz2oeZCYSc09eqzWqSzvZBFh63iaFIK2BfvfEssyXJQfTYrZBUMs6Ep45vJGdSVvoWGPZAK6Mb1i1ZBaKFo5fyQEldmvc7s4GN6xSSHLcT',
              'Content-Type': 'application/json',
          },
          body: data,
      });

      const text = await response.text();

      console.log(text); 
  }

  let progress = 0;

  function machinePromoMonth(co2_percendage) {
      if (progress < 100) {
          progress += co2_percendage; // Increase progress by 10%
          document.getElementById("progress_bar_co2").style.width = progress + "%";
          document.getElementById("progress_bar_co2").innerText = progress + "%";
          document.getElementById("co2-counted").textContent = progress;
      }
  }

  async function getTotalJoinedGroups(){

    let total_joined_groups = Number(document.getElementById("machine_promox").value);

    alert("Machine Promo: "+total_joined_groups);
    
    //  Number(document.getElementById("machine_specializedx").value) +
    //   Number(document.getElementById("MSpecials_whatsapp_contacts_listx").value) +
    //    Number(document.getElementById("0_10k_whatsapp_contacts_listx").value) +
    //     Number(document.getElementById("5k10k_whatsapp_contacts_listx").value) +
    //     Number(document.getElementById("20k50k_whatsapp_contacts_listx").value) +
    //      Number(document.getElementById("50k100k_whatsapp_contacts_listx").value) +
    //      Number(document.getElementById("100k_whatsapp_contacts_listx").value) +
    //       Number(document.getElementById("newTechArrivals_whatsapp_contacts_listx").value) +
    //        Number(document.getElementById("sublimation_blanks_countrx").value) +
    //         Number(document.getElementById("ai_integration_countrx").value);
    //         alert("Total Joined Groups: "+total_joined_groups);
    //  document.getElementById("tot_joined").value = total_joined_groups;
  }


          //signout
    const userSignOut=()=>{
         signOut(auth).then(() => {
             console.log('user signed out');
             alert('user signed out successfully');
            //  window.location.replace('https://perfect-laser-test-server.web.app/dashboard/');
           }).catch((error) => {
             // An error happened.
             const errorCode = error.code;
             const errorMessage = error.message;
             console.log(errorCode,errorMessage);
             alert(errorMessage);
           });
     }  

  const checkAuthState=()=>{
      onAuthStateChanged(auth,(user)=>{
          if(user){
              //login.style.display='none';
              //authPart.style.display='block';
              console.log('user is signed in!');
          }else{
          // login.style.display='block';
          // authPart.style.display='none';
           console.log('user is signed out');
           window.location.replace('https://perfect-laser-test-server.web.app/dashboard/');
          }
      })
    }
  //  checkAuthState();
    
   pull_message_report();
   pull_rec_message_report();
   searchBySalesKeyWord();
   searchByMarketingKeyWord();
   pull_machine_promo_report();
   pull_machine_specialized_report();
   pull_machine_mcs_list_report();
   five_to_10k_report();
   zero_to_10k_report();
  //  ten_to_15k_report();
  //  fifteen_to_twentyk_report();
   twentyk_to_fiftyk_report();
   fiftyk_to_hundredk_report();
   hundredk_plus_report();
   new_machines_technology_just_arrived_report();
   sublimation_blanks_report();
   ai_integration_report();
   free_offering_promo_report();
  //  updateCO2Progress(32);
  // machinePromoMonth(32);
  //  updateCNCProgress();
  //  updateCOLProgress();
  //  updateFIBProgress();
  //  updateENGRProgress();
  //  updateWATProgress();
  //  searchByCo2Laser();
  


   signOutBtn.addEventListener('click', userSignOut);
   
       
 </script>   
</body>

</html>

